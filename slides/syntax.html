---
layout: slides
title: Syntax
---
<section>
	<h1>Introduction to Python</h1>
	<h3>REPL, Syntax, Strings, Numeric Types, Conditionals</h3>
</section>

<section>
<h2>Overview</h2>
<ul>
	<li>The Python interpreter</li>
	<li>Syntax</li>
	<li>Strings</li>
	<li>Numeric Types</li>
	<li>Conditionals</li>
	<li>User Input</li>
</ul>
<details>
</details>
</section>

<section>
<h2>The Python interpreter</h2>
<ul>
	<li>Running programs</li>
	<li>Interactive shell
		<ul>
			<li>A quick tour</li>
			<li>Some mild introspection</li>
		</ul>
	</li>
</ul>
<details>
</details>
</section>

<section>
<h2>Running programs</h2>
<ul>
	<li>Use the interpreter followed by the filename of your program</li>
	<li>The extension of the filename can be anything, but .py is the convention</li>
</ul>

{% highlight console %}
walsh:tmp joe$ echo "print 'Hi PyGotham'" > hello.py
walsh:tmp joe$ python hello.py 
Hi PyGotham
{% endhighlight %}
<details>
<ul>
	<li>Can pass flags... for example --help shows help, -c runs a command</li>
	<li>python -c 'print "hello"'</li>
</ul>
</details>
</section>

<section>
<h2>Interactive shell</h2>
<ul>
	<li>Without the filename, the interactive shell is started</li>
	<li>REPL - Read, Eval, Print Loop
	<ul>
		<li>Reads input line-by-line</li>
		<li>Executes code</li>
		<li>Prints out the resulting value</li>
	</ul>
	</li>
</ul>
{% highlight pycon %}
>>> 5 + 5
10
>>> "hello".upper()
'HELLO'
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>Interactive shell continued</h2>
<ul>
	<li>There are two prompts that you'll see:</li>
</ul>
{% highlight pycon %}
>>> # prompts for an expression or statement
... # prompts that an expression or statement needs more input
{% endhighlight %}
<ul>
	<li>&lt;Enter&gt; after a prompt for more input ends that expression or statement</li>
	<li>Values returned from expressions are printed out</li>
	<li>Instant feedback is great for testing, debugging and experimenting</li>
	<li>quit() or CTRL-D exits from the interactive shell</li>
</ul>
<details>
<pre>
5 + 3
import sys
if True:
	print "I don't believe it!"
if True: # waiting for input shows an error
...
# show what "asdf" vs "" resolves to in if statement
</pre>
</details>
</section>

<section>
<h2>Some mild introspection... and others</h2>
<ul>
	<li>help</li>
	<li>dir</li>
	<li>type</li>
	<li>import</li>
	<li>print</li>
</ul>
<details>
<pre>
help() # no params gives you interactive help.  "quit" or ^D to quit.
keywords, ^D
help([1, 2, 3]), import sys, help(sys) #... by the way, brackets denotes a list!
import sys, dir(sys), dir(""), dir([]) # import brings in a module... (which is just a file with code)
type(sys), type(5), li = [], type(li), dir(li), type(li.append),
 help(li.append), li, li.append('foo'), li
</pre>
</details>
</section>

<section>
<h2>Syntax</h2>
<ul>
	<li>Basic syntax</li>
	<li>Dot notation, functions/methods and attributes</li>
	<li>Expressions and simple assignment</li>
	<li>Assignment / binding?</li>
</ul>
<details>
</details>
</section>

<section>
<h2>Basic syntax</h2>
<ul>
	<li>White space significant</li>
	<li>Colon and indentation signify code blocks</li>
	<li>Each line is a single statement</li>
</ul>

{% highlight pycon %}
>>> try:
...  "hello" + 5
... except TypeError:
...  print "don't do that"
... 
{% endhighlight %}
<details>
<ul>
	<li>Leading whitespace is meaningful to the program structure!</li>
	<li>You can use tabs or spaces, but not both.  The convention is to use 4 spaces, though any number is possible as long as it's consistent (demo if with one space, then two).  I use tabs, which is bad.</li>
	<li>blocks, or groups of statements are specified by indentation level.</li>
	<li>lines separate statements, unless you explicitly create a continuation using a backslash, but must indent next (demo).</li>
	<li>or """ quoted string, or an unbalanced brace, bracket, parens (demo).</li>
</ul>
</details>
</section>

<section>
<h2>Dot notation, functions/methods and attributes</h2>
<ul>
	<li>The dot operator is used to access an instance's attributes</li>
	<li>Attributes can be any object - even methods/functions (callables)</li>
</ul>
{% highlight pycon %}
>>> {"foo":24, "bar":89}.keys()
['foo', 'bar']
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>Calling functions and methods</h2>
<ul>
	<li>Functions and methods are invoked with parentheses</li>
	<li>Pass arguments to functions as usual</li>
	<li>You can also pass parameters as key/value pairs using key=val</li>
</ul>
{% highlight pycon %}
>>> foo(a=1, b=35)
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>Expressions and simple assignment</h2>
<ul>
	<li>Arithmetic operations</li>
	<li>Assignment</li>
	<li>Multiple and consecutive assignment</li>
	<li>Undefined variables</li>
	<li>Legal names 
	<ul>
		<li>letters, numbers and underscores</li>
		<li> (though numbers can't be first)</li>
	</ul>
	</li>
</ul>
<details>
<ul>
	<li>(demo)+ - *  / all work as you'd expect.  whitespace separating tokens is not significant.</li>
	<li>(demo) also % (modulo), 5**2 for exponents, bitwise ops 6&amp;2, 2|4, 8&lt;&lt;1 </li>
	<li>(demo) use = to assign variables</li>
	<li>(demo) a = b = c = 2</li>
	<li>(demo) a, b, c = 1, 2, 3</li>
	<li>(demo) use undefined u + 2 throws NameError</li>
</ul>
</details>
</section>

<section>

<h2>Space! Namespaces and objects</h2>
<ul>
	<li>Distinction between names (variable names) and values (1, "foo", [23, 35])</li>
	<li>Namespace - holds names</li>
	<li>Object space - holds values</li>
	<li>Names reference values</li>
	<li>Unreferenced values are removed from memory</li>
</ul>
<details>
</details>
</section>

<section>
<h2>And that matters... why? (<s>assignment</s> binding)</h2>
<ul>
	<li>Again, names are references to values; any name can refer to any value</li>
	<li>Assignment <strong>rebinds</strong> a name to a value</li>
	<li>Think of <a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#other-languages-have-variables">tags rather than boxes</a></li>
	<li>When you assign one name to another, the initial name will reference the same object as the other name</li>
</ul>
<details>
<ul>
	<li>(unlike java or c where the variable name is typed)</li>
	<li>(ask) ? a = [1,2,3], a.append() ..... eventually b = a... ask about what b will be</li>
</ul>
</details>
</section>

<section>
<h2>Queue crude ASCII art</h2>
{% highlight python %}
a = [1, 2, 3]
b = a
"""
a -------->[1, 2, 3]
             ^
b -----------|
"""


a = [1, 2, 3]
b = [1, 2, 3]
"""
a --->[1, 2, 3]
b --->[1, 2, 3]
"""
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>Strings</h2>
<ul>
	<li>String literals delimited with </li>
</ul>
{% highlight python %}
'single quotes'
"double quotes"
"""triple double quotes
span lines!"""
{% endhighlight %}

<ul>
	<li>Use backslash to escape quotes, doublequotes and other backslashes</li>
	<li>\n is a new line (line feed), \r is a carriage return</li>
	<li>unicode strings are prefixed by u... u"snowman"</li>
	<li>triple double quotes are also used as multiline comments</li>
</ul>
<details>
<ul>
	<li>(demo) note that you don't have to escape when using mixed quoting</li>
	<li>(demo) same as above... don't have to escape double quotes in triple double quotes  </li>
</ul>
</details>
</section>

<section>
<h2>String formatting</h2>
<ul>
	<li>Use the format method on your string instance </li>
	<li>{} or {some_name} can be used as placeholders for variables</li>
</ul>
{% highlight pycon %}
>>> "I have {} {}".format("two", "turtles")
'I have two turtles'
>>> "I have {number} {pets}".format(pets="turtles", number="two")
'I have two turtles'
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>String formatting continued</h2>
<ul>
	<li>String and unicode objects can also be formatted using the % operator</li>
	<li>Think C style sprintf
		<ul>
			<li>It's a way of substituting values into a format string</li>
			<li><em>format</em> % <em>value(s)</em></li>
		</ul>
	</li>
</ul>
{% highlight python %}
>>> a = "milk"
>>> b = "cookies"
>>> s = "I like %s and %s" % (a, b)
>>> s
'I like milk and cookies'
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>% what?</h2>
<ul>
	<li>Format strings use %<em>character</em> as placeholder for values</li>
	<li>These are called conversion specifiers</li>
	<li>Some available conversion specifiers include:
		<ul>
			<li>%d - integer</li>	
			<li>%f - float</li>	
			<li>%s - string</li>	
			<li>%c - character</li>	
		</ul>
	</li>
	<li>%s usually <em>just works</em></li>
</ul>
<details>
<ul>
	<li>An exception will be thrown if the type does not match the type specified in the format</li>
	<li>"%i will throw an exception" % "foo"</li>
	<li>There are more complex conversion specifiers; these are the most common</li>
</ul>
</details>
</section>

<section>
<h2>Common string functions and methods</h2>
<p>String methods and functions can be used on both variables and string literals:</p>
{% highlight python %}
a = "foo"
a.upper()
"foo".upper()
{% endhighlight %}
<p>Common functions and methods:</p>
{% highlight python %}
len("foo") # length of string
re.sub("a.$", "ooooo", "foo bar baz") # regex
"  foo ".strip() # strip surrounding whitespace
"foo".startswith('f') # true if string starts with x
"foo".startswith('f') # true if string starts with x
"foo bar baz".split(' ') # returns list of substrings
{% endhighlight %}
<details>
</details>
</section>

<section>
<h2>Numeric Types</h2>
<ul>
	<li>int --&gt; 5</li>
	<li>long --&gt; 5.5555555</li>
	<li>float --&gt; 555555555555555555555L</li>
	<li>complex --&gt; 5 + 5j</li>
	<li>Types widen int --&gt; long --&gt; float --&gt; complex</li>
	<li>Pay attention when operating on two different numeric types</li>
</ul>
<details>
<ul>
	<li>'Regular' numbers get int type, numbers with a decimal point are floats</li>
	<li>(demo) floats and ints using type()</li>
	<li>operands are widened to accommodate wider type when performing operations</li>
	<li>(demo) operations on two integers yield integers 5 / 2</li>
</ul>
</details>
</section>

<section>
<h2>Converting / casting</h2>
<ul>
	<li>"Constructors:" int(), long(), float(), and complex()</li>
	<li>Will convert numbers or strings appropriately</li>
</ul>
{% highlight pycon %}
>>> int("5")
5
>>> float("5")
5.0
>>> int(float("5"))
5
{% endhighlight %}
</section>

<section>
<h2>Conditionals - Overview</h2>
<ul>
	<li>True and False</li>
	<li>Boolean logic</li>
	<li>Conditionals</li>
</ul>
</section>


<section>
<h2>Booleans</h2>
<p>In Python (note the uppercase first letter):</p>
<ul>
	<li>True</li>
	<li>False</li>
</ul>
</section>


<section>
<h2>What's considered False?</h2>
<ul>
	<li>False (obv!)</li>
	<li>None (think of this as null in Java/Processing)</li>
	<li>Any empty sequence, such as '', () or [], or mapping, such as {}</li>
	<li>0 for any numeric type</li>
	<li>User defined classes that define a __nonzero__() or __len__() method that returns something False-y</li>
</ul>
<br />
<p>Everything else is True</p>
<details>
</details>
</section>


<section>
<h2>Comparison operators</h2>
<ul>
	<li>Usual comparison operators, &gt;, &lt;, &gt;=, &lt;=, ==, &lt;&gt;, and !=</li>
	<li>Comparison operators can be chained: 7 &gt; 5 &gt; 3</li>
	<li><strong>and</strong> and <strong>or</strong> returns one of their operands! 
		<ul>
			<li>Short circuit evaluation</li>
			<li>and returns the left hand operator if it's False (it already knows outcome, so just return), otherwise, the right hand operator is returned</li>
			<li>or returns the left hand operator if it's True</li>
		</ul>
	</li>
</ul>
<details>
<pre>
7 >5 > 2 # chained
>>> 0 and 25 # left hand op is False and "and"
>>> 25 and 0
>>> 25 and 35
>>> 25 and 35 and 45
# note that these evaluate to True or False
(8 > 2) and "foo" or "bar" # trick for ternary, but don't do it...
</pre>
</details>
</section>

<section>
<h2>Identity vs equality</h2>
<ul>
	<li>Use == for testing equality of values </li>
	<li>Use <em>is</em>&nbsp;&nbsp; to test identity</li>
	<li>Identity implies equality, but not the other way around</li>
	<li>Some common idioms:</li>
</ul>
{% highlight python %}
x = True

# use this
if x:

# don't use this
if x == True:

# use this
if x is None:

# don't use this
if x == None:
{% endhighlight %}

</section>

<section>
<h2>Conditionals</h2>
{% highlight pycon %}
>>> animal = "duck"
>>> if animal == "cat":
...  print "meow"
... elif animal == "duck":
...  print "quack"
... else:
...  print "are you sure it's not a mineral?"
{% endhighlight %}
<ul>
	<li>elif and else are optional; there can be arbitrary number of elifs</li>
	<li>No switch-case!  Use many elif's</li>
</ul>
<details>
<ul>
	<li>Note the colon and indentation to denote blocks</li>
	<li>elif!?</li>
	<li>yes, it prints quack</li>
</ul> 
</details> 
</section>

<section>
<h2>User Input</h2>
<ul>
	<li>You can prompt a user for input through the commandline by using raw_input()</li>
	<li>raw_input() reads standard in as a <strong>string</strong></li>
	<li>It can take one optional argument, a string value to display as the prompt</li>
</ul>
{% highlight pycon %}
>>> user_input = raw_input(">")
>hello
>>> print user_input
hello
{% endhighlight %}
</section>
